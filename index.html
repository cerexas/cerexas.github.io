<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dash - Cerex</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
    }
    .container {
      display: flex;
      height: 100vh;
    }
    #trello-section {
      flex: 4;
      background-color: lightblue;
      padding: 20px;
    }
    #right-section {
      flex: 1;
      display: flex;
      flex-direction: column;
      background-color: lightgray;
      padding: 20px;
    }
    #github-section, #links-section {
      flex: 1;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="trello-section">
      <!-- Add your Trello content here -->
      <h2>Trello Board</h2>
    </div>

    <div id="right-section">
      <div id="github-section">
        <!-- Add your GitHub content here -->
	<h3><a href="https://github.com/cerexas">GitHub-aktivitet</a></h3>
	<ul id="github-feed"></ul>
      </div>

      <div id="links-section">
        <!-- Add your links here -->
        <h3>Lenker</h3>
	<ul>
		<li><a href="https://cerex.no/">Cerex</a></li>
		<li><a href="https://github.com/orgs/cerexas/repositories/">Repo</a></li>
		<li><a href="https://pm.me/">Epost</a></li>
		<li><a href="https://pm.me/">Kalender</a></li>
		<li><a href="https://github.com/cerexas/arkiv/">Arkiv</a></li>
		<li><a href="https://github.com/cerexas/bibliotek/">Bibliotek</a></li>
		<li><a href="https://github.com/cerexas/regnskap/">Regnskap</a></li>
	</ul>
      </div>
    </div>
  </div>
  <!-- Add your JavaScript code or link to an external script here -->

<script>
  async function fetchGithubEvents(organization) {
    const url = `https://api.github.com/orgs/${organization}/events`;
    const response = await fetch(url);

    if (!response.ok) {
      throw new Error(`Error fetching GitHub events: ${response.statusText}`);
    }

    return await response.json();
  }

  async function displayGithubFeed(organization) {
    try {
      const events = await fetchGithubEvents(organization);
      const listElement = document.getElementById("github-feed");

      events.forEach(event => {
        const listItem = document.createElement("li");
        listItem.textContent = `${event.actor.login} ${event.type} in ${event.repo.name}`;
        listElement.appendChild(listItem);
      });
    } catch (error) {
      console.error(error);
    }
  }

  displayGithubFeed("cerexas")
</script>


</body>
</html>
